[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nSession = Package.session.Session;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nDate = Package['es5-shim'].Date;\nparseInt = Package['es5-shim'].parseInt;\nECMAScript = Package.ecmascript.ECMAScript;\nMeteor = Package.meteor.Meteor;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nbabelHelpers = Package['babel-runtime'].babelHelpers;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"(function(){\nTemplate.body.addContent((function() {\n  var view = this;\n  return Spacebars.include(view.lookupTemplate(\"game\"));\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"game\");\nTemplate[\"game\"] = new Template(\"Template.game\", (function() {\n  var view = this;\n  return Blaze.View(\"lookup:game\", function() {\n    return Spacebars.mustache(view.lookup(\"game\"));\n  });\n}));\n\n}).call(this);\n","servePath":"/template.example-meteor.js","sourceMap":{"version":3,"sources":["/template.example-meteor.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/template.example-meteor.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return Spacebars.include(view.lookupTemplate(\"game\"));\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"game\");\nTemplate[\"game\"] = new Template(\"Template.game\", (function() {\n  var view = this;\n  return Blaze.View(\"lookup:game\", function() {\n    return Spacebars.mustache(view.lookup(\"game\"));\n  });\n}));\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// client/games/breakout.js                                            //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\n                                                                       //\nvar game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });\n                                                                       //\nfunction preload() {                                                   // 4\n                                                                       //\n    game.load.atlas('breakout', '/assets/games/breakout/breakout.png', 'assets/games/breakout/breakout.json');\n    game.load.image('starfield', '/assets/misc/starfield.jpg');        // 7\n}                                                                      //\n                                                                       //\nvar ball;                                                              // 11\nvar paddle;                                                            // 12\nvar bricks;                                                            // 13\n                                                                       //\nvar ballOnPaddle = true;                                               // 15\n                                                                       //\nvar lives = 3;                                                         // 17\nvar score = 0;                                                         // 18\n                                                                       //\nvar scoreText;                                                         // 20\nvar livesText;                                                         // 21\nvar introText;                                                         // 22\n                                                                       //\nvar s;                                                                 // 24\n                                                                       //\nfunction create() {                                                    // 26\n                                                                       //\n    game.physics.startSystem(Phaser.Physics.ARCADE);                   // 28\n                                                                       //\n    //  We check bounds collisions against all walls other than the bottom one\n    game.physics.arcade.checkCollision.down = false;                   // 31\n                                                                       //\n    s = game.add.tileSprite(0, 0, 800, 600, 'starfield');              // 33\n                                                                       //\n    bricks = game.add.group();                                         // 35\n    bricks.enableBody = true;                                          // 36\n    bricks.physicsBodyType = Phaser.Physics.ARCADE;                    // 37\n                                                                       //\n    var brick;                                                         // 39\n                                                                       //\n    for (var y = 0; y < 4; y++) {                                      // 41\n        for (var x = 0; x < 15; x++) {                                 // 43\n            brick = bricks.create(120 + x * 36, 100 + y * 52, 'breakout', 'brick_' + (y + 1) + '_1.png');\n            brick.body.bounce.set(1);                                  // 46\n            brick.body.immovable = true;                               // 47\n        }                                                              //\n    }                                                                  //\n                                                                       //\n    paddle = game.add.sprite(game.world.centerX, 500, 'breakout', 'paddle_big.png');\n    paddle.anchor.setTo(0.5, 0.5);                                     // 52\n                                                                       //\n    game.physics.enable(paddle, Phaser.Physics.ARCADE);                // 54\n                                                                       //\n    paddle.body.collideWorldBounds = true;                             // 56\n    paddle.body.bounce.set(1);                                         // 57\n    paddle.body.immovable = true;                                      // 58\n                                                                       //\n    ball = game.add.sprite(game.world.centerX, paddle.y - 16, 'breakout', 'ball_1.png');\n    ball.anchor.set(0.5);                                              // 61\n    ball.checkWorldBounds = true;                                      // 62\n                                                                       //\n    game.physics.enable(ball, Phaser.Physics.ARCADE);                  // 64\n                                                                       //\n    ball.body.collideWorldBounds = true;                               // 66\n    ball.body.bounce.set(1);                                           // 67\n                                                                       //\n    ball.animations.add('spin', ['ball_1.png', 'ball_2.png', 'ball_3.png', 'ball_4.png', 'ball_5.png'], 50, true, false);\n                                                                       //\n    ball.events.onOutOfBounds.add(ballLost, this);                     // 71\n                                                                       //\n    scoreText = game.add.text(32, 550, 'score: 0', { font: \"20px Arial\", fill: \"#ffffff\", align: \"left\" });\n    livesText = game.add.text(680, 550, 'lives: 3', { font: \"20px Arial\", fill: \"#ffffff\", align: \"left\" });\n    introText = game.add.text(game.world.centerX, 400, '- click to start -', { font: \"40px Arial\", fill: \"#ffffff\", align: \"center\" });\n    introText.anchor.setTo(0.5, 0.5);                                  // 76\n                                                                       //\n    game.input.onDown.add(releaseBall, this);                          // 78\n    game.world.wrap(true);                                             // 79\n}                                                                      //\n                                                                       //\nfunction update() {                                                    // 83\n                                                                       //\n    //  Fun, but a little sea-sick inducing :) Uncomment if you like!  //\n    // s.tilePosition.x += (game.input.speed.x / 2);                   //\n                                                                       //\n    paddle.x = game.input.x;                                           // 88\n                                                                       //\n    if (paddle.x < 24) {                                               // 90\n        paddle.x = 24;                                                 // 92\n    } else if (paddle.x > game.width - 24) {                           //\n        paddle.x = game.width - 24;                                    // 96\n    }                                                                  //\n                                                                       //\n    if (ballOnPaddle) {                                                // 99\n        ball.body.x = paddle.x;                                        // 101\n    } else {                                                           //\n        game.physics.arcade.collide(ball, paddle, ballHitPaddle, null, this);\n        game.physics.arcade.collide(ball, bricks, ballHitBrick, null, this);\n    }                                                                  //\n}                                                                      //\n                                                                       //\nfunction releaseBall() {                                               // 111\n                                                                       //\n    if (ballOnPaddle) {                                                // 113\n        ballOnPaddle = false;                                          // 115\n        ball.body.velocity.y = -300;                                   // 116\n        ball.body.velocity.x = -75;                                    // 117\n        ball.animations.play('spin');                                  // 118\n        introText.visible = false;                                     // 119\n    }                                                                  //\n}                                                                      //\n                                                                       //\nfunction ballLost() {                                                  // 124\n                                                                       //\n    lives--;                                                           // 126\n    livesText.text = 'lives: ' + lives;                                // 127\n                                                                       //\n    if (lives === 0) {                                                 // 129\n        gameOver();                                                    // 131\n    } else {                                                           //\n        ballOnPaddle = true;                                           // 135\n                                                                       //\n        ball.reset(paddle.body.x + 16, paddle.y - 16);                 // 137\n                                                                       //\n        ball.animations.stop();                                        // 139\n    }                                                                  //\n}                                                                      //\n                                                                       //\nfunction gameOver() {                                                  // 144\n                                                                       //\n    ball.body.velocity.setTo(0, 0);                                    // 146\n                                                                       //\n    introText.text = 'Game Over!';                                     // 148\n    introText.visible = true;                                          // 149\n}                                                                      //\n                                                                       //\nfunction ballHitBrick(_ball, _brick) {                                 // 153\n                                                                       //\n    _brick.kill();                                                     // 155\n                                                                       //\n    score += 10;                                                       // 157\n                                                                       //\n    scoreText.text = 'score: ' + score;                                // 159\n                                                                       //\n    //  Are they any bricks left?                                      //\n    if (bricks.countLiving() == 0) {                                   // 162\n        //  New level starts                                           //\n        score += 1000;                                                 // 165\n        scoreText.text = 'score: ' + score;                            // 166\n        introText.text = '- Next Level -';                             // 167\n                                                                       //\n        //  Let's move the ball back to the paddle                     //\n        ballOnPaddle = true;                                           // 170\n        ball.body.velocity.set(0);                                     // 171\n        ball.x = paddle.x + 16;                                        // 172\n        ball.y = paddle.y - 16;                                        // 173\n        ball.animations.stop();                                        // 174\n                                                                       //\n        //  And bring the bricks back from the dead :)                 //\n        bricks.callAll('revive');                                      // 177\n    }                                                                  //\n}                                                                      //\n                                                                       //\nfunction ballHitPaddle(_ball, _paddle) {                               // 182\n                                                                       //\n    var diff = 0;                                                      // 184\n                                                                       //\n    if (_ball.x < _paddle.x) {                                         // 186\n        //  Ball is on the left-hand side of the paddle                //\n        diff = _paddle.x - _ball.x;                                    // 189\n        _ball.body.velocity.x = -10 * diff;                            // 190\n    } else if (_ball.x > _paddle.x) {                                  //\n        //  Ball is on the right-hand side of the paddle               //\n        diff = _ball.x - _paddle.x;                                    // 195\n        _ball.body.velocity.x = 10 * diff;                             // 196\n    } else {                                                           //\n        //  Ball is perfectly in the middle                            //\n        //  Add a little random X to stop it bouncing straight up!     //\n        _ball.body.velocity.x = 2 + Math.random() * 8;                 // 202\n    }                                                                  //\n}                                                                      //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/client/games/breakout.js","sourceMap":{"version":3,"sources":["/client/games/breakout.js"],"names":[],"mappings":"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","file":"/client/games/breakout.js","sourcesContent":["\nvar game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });\n\nfunction preload() {\n\n    game.load.atlas('breakout', '/assets/games/breakout/breakout.png', 'assets/games/breakout/breakout.json');\n    game.load.image('starfield', '/assets/misc/starfield.jpg');\n\n}\n\nvar ball;\nvar paddle;\nvar bricks;\n\nvar ballOnPaddle = true;\n\nvar lives = 3;\nvar score = 0;\n\nvar scoreText;\nvar livesText;\nvar introText;\n\nvar s;\n\nfunction create() {\n\n    game.physics.startSystem(Phaser.Physics.ARCADE);\n\n    //  We check bounds collisions against all walls other than the bottom one\n    game.physics.arcade.checkCollision.down = false;\n\n    s = game.add.tileSprite(0, 0, 800, 600, 'starfield');\n\n    bricks = game.add.group();\n    bricks.enableBody = true;\n    bricks.physicsBodyType = Phaser.Physics.ARCADE;\n\n    var brick;\n\n    for (var y = 0; y < 4; y++)\n    {\n        for (var x = 0; x < 15; x++)\n        {\n            brick = bricks.create(120 + (x * 36), 100 + (y * 52), 'breakout', 'brick_' + (y+1) + '_1.png');\n            brick.body.bounce.set(1);\n            brick.body.immovable = true;\n        }\n    }\n\n    paddle = game.add.sprite(game.world.centerX, 500, 'breakout', 'paddle_big.png');\n    paddle.anchor.setTo(0.5, 0.5);\n\n    game.physics.enable(paddle, Phaser.Physics.ARCADE);\n\n    paddle.body.collideWorldBounds = true;\n    paddle.body.bounce.set(1);\n    paddle.body.immovable = true;\n\n    ball = game.add.sprite(game.world.centerX, paddle.y - 16, 'breakout', 'ball_1.png');\n    ball.anchor.set(0.5);\n    ball.checkWorldBounds = true;\n\n    game.physics.enable(ball, Phaser.Physics.ARCADE);\n\n    ball.body.collideWorldBounds = true;\n    ball.body.bounce.set(1);\n\n    ball.animations.add('spin', [ 'ball_1.png', 'ball_2.png', 'ball_3.png', 'ball_4.png', 'ball_5.png' ], 50, true, false);\n\n    ball.events.onOutOfBounds.add(ballLost, this);\n\n    scoreText = game.add.text(32, 550, 'score: 0', { font: \"20px Arial\", fill: \"#ffffff\", align: \"left\" });\n    livesText = game.add.text(680, 550, 'lives: 3', { font: \"20px Arial\", fill: \"#ffffff\", align: \"left\" });\n    introText = game.add.text(game.world.centerX, 400, '- click to start -', { font: \"40px Arial\", fill: \"#ffffff\", align: \"center\" });\n    introText.anchor.setTo(0.5, 0.5);\n\n    game.input.onDown.add(releaseBall, this);\n    game.world.wrap(true);\n\n}\n\nfunction update () {\n\n    //  Fun, but a little sea-sick inducing :) Uncomment if you like!\n    // s.tilePosition.x += (game.input.speed.x / 2);\n\n    paddle.x = game.input.x;\n\n    if (paddle.x < 24)\n    {\n        paddle.x = 24;\n    }\n    else if (paddle.x > game.width - 24)\n    {\n        paddle.x = game.width - 24;\n    }\n\n    if (ballOnPaddle)\n    {\n        ball.body.x = paddle.x;\n    }\n    else\n    {\n        game.physics.arcade.collide(ball, paddle, ballHitPaddle, null, this);\n        game.physics.arcade.collide(ball, bricks, ballHitBrick, null, this);\n    }\n\n}\n\nfunction releaseBall () {\n\n    if (ballOnPaddle)\n    {\n        ballOnPaddle = false;\n        ball.body.velocity.y = -300;\n        ball.body.velocity.x = -75;\n        ball.animations.play('spin');\n        introText.visible = false;\n    }\n\n}\n\nfunction ballLost () {\n\n    lives--;\n    livesText.text = 'lives: ' + lives;\n\n    if (lives === 0)\n    {\n        gameOver();\n    }\n    else\n    {\n        ballOnPaddle = true;\n\n        ball.reset(paddle.body.x + 16, paddle.y - 16);\n\n        ball.animations.stop();\n    }\n\n}\n\nfunction gameOver () {\n\n    ball.body.velocity.setTo(0, 0);\n\n    introText.text = 'Game Over!';\n    introText.visible = true;\n\n}\n\nfunction ballHitBrick (_ball, _brick) {\n\n    _brick.kill();\n\n    score += 10;\n\n    scoreText.text = 'score: ' + score;\n\n    //  Are they any bricks left?\n    if (bricks.countLiving() == 0)\n    {\n        //  New level starts\n        score += 1000;\n        scoreText.text = 'score: ' + score;\n        introText.text = '- Next Level -';\n\n        //  Let's move the ball back to the paddle\n        ballOnPaddle = true;\n        ball.body.velocity.set(0);\n        ball.x = paddle.x + 16;\n        ball.y = paddle.y - 16;\n        ball.animations.stop();\n\n        //  And bring the bricks back from the dead :)\n        bricks.callAll('revive');\n    }\n\n}\n\nfunction ballHitPaddle (_ball, _paddle) {\n\n    var diff = 0;\n\n    if (_ball.x < _paddle.x)\n    {\n        //  Ball is on the left-hand side of the paddle\n        diff = _paddle.x - _ball.x;\n        _ball.body.velocity.x = (-10 * diff);\n    }\n    else if (_ball.x > _paddle.x)\n    {\n        //  Ball is on the right-hand side of the paddle\n        diff = _ball.x -_paddle.x;\n        _ball.body.velocity.x = (10 * diff);\n    }\n    else\n    {\n        //  Ball is perfectly in the middle\n        //  Add a little random X to stop it bouncing straight up!\n        _ball.body.velocity.x = 2 + Math.random() * 8;\n    }\n\n}\n"]}},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// example-meteor.js                                                   //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nif (Meteor.isClient) {                                                 // 1\n  Template.game.helpers();                                             // 2\n}                                                                      //\n                                                                       //\n// game is a global var from /client/games/breakout.js                 //\nif (Meteor.isServer) {                                                 // 7\n  Meteor.startup(function () {                                         // 8\n    // code to run on server at startup                                //\n  });                                                                  //\n}                                                                      //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/example-meteor.js","sourceMap":{"version":3,"sources":["/example-meteor.js"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,MAAM,CAAC,QAAQ,EAAE;AACnB,UAAQ,CAAC,IAAI,CAAC,OAAO,EAEpB;CACF;;;AAED,IAAI,MAAM,CAAC,QAAQ,EAAE;AACnB,QAAM,CAAC,OAAO,CAAC,YAAY;;GAE1B,CAAC;CACH,wE","file":"/example-meteor.js","sourcesContent":["if (Meteor.isClient) {\n  Template.game.helpers(\n      // game is a global var from /client/games/breakout.js\n  )\n}\n\nif (Meteor.isServer) {\n  Meteor.startup(function () {\n    // code to run on server at startup\n  })\n}\n"]}}]